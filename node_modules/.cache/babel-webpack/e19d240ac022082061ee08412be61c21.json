{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/appareil.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../appareil/appareil.component\";\n\nfunction AppareilViewComponent_app_appareil_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-appareil\", 6);\n  }\n\n  if (rf & 2) {\n    const appareil_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵproperty(\"indexOfAppareil\", i_r2)(\"appareilName\", appareil_r1.name)(\"appareilStatus\", appareil_r1.status)(\"id\", appareil_r1.id);\n  }\n}\n\nexport class AppareilViewComponent {\n  constructor(appareilService) {\n    this.appareilService = appareilService;\n    this.isAuth = false;\n    this.lastUpdate = new Promise((resolve, reject) => {\n      const date = new Date();\n      setTimeout(() => {\n        resolve(date);\n      }, 2000);\n    });\n    setTimeout(() => {\n      this.isAuth = true;\n    }, 4000);\n  }\n\n  ngOnInit() {\n    this.appareilSubscription = this.appareilService.appareilSubject.subscribe(appareils => {\n      this.appareils = appareils;\n    });\n    this.appareilService.emitAppareilSubject;\n  }\n\n  onAllumer() {\n    this.appareilService.switchOnAll();\n  }\n\n  onEteindre() {\n    this.appareilService.switchOffAll();\n  }\n\n  onSave() {\n    this.appareilService.saveAppareilToServer();\n  }\n\n  onFetch() {\n    this.appareilService.getAppareilFromServer();\n  }\n\n}\n\nAppareilViewComponent.ɵfac = function AppareilViewComponent_Factory(t) {\n  return new (t || AppareilViewComponent)(i0.ɵɵdirectiveInject(i1.AppareilService));\n};\n\nAppareilViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppareilViewComponent,\n  selectors: [[\"app-appareil-view\"]],\n  decls: 18,\n  vars: 9,\n  consts: [[1, \"col-xs-12\"], [1, \"list-group\"], [3, \"indexOfAppareil\", \"appareilName\", \"appareilStatus\", \"id\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [3, \"indexOfAppareil\", \"appareilName\", \"appareilStatus\", \"id\"]],\n  template: function AppareilViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h2\");\n      i0.ɵɵtext(2, \"Mes appareils\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p\");\n      i0.ɵɵtext(4);\n      i0.ɵɵpipe(5, \"uppercase\");\n      i0.ɵɵpipe(6, \"date\");\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"ul\", 1);\n      i0.ɵɵtemplate(9, AppareilViewComponent_app_appareil_9_Template, 1, 4, \"app-appareil\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function AppareilViewComponent_Template_button_click_10_listener() {\n        return ctx.onAllumer();\n      });\n      i0.ɵɵtext(11, \"Tout allumer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function AppareilViewComponent_Template_button_click_12_listener() {\n        return ctx.onEteindre();\n      });\n      i0.ɵɵtext(13, \"Tout \\u00E9teindre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function AppareilViewComponent_Template_button_click_14_listener() {\n        return ctx.onSave();\n      });\n      i0.ɵɵtext(15, \"Enregistrer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function AppareilViewComponent_Template_button_click_16_listener() {\n        return ctx.onFetch();\n      });\n      i0.ɵɵtext(17, \"Charger\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Mis \\u00E0 jour : \", i0.ɵɵpipeBind1(5, 2, i0.ɵɵpipeBind2(6, 4, i0.ɵɵpipeBind1(7, 7, ctx.lastUpdate), \"yMMMMEEEEd\")), \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.appareils);\n    }\n  },\n  directives: [i2.NgForOf, i3.AppareilComponent],\n  pipes: [i2.UpperCasePipe, i2.DatePipe, i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHBhcmVpbC12aWV3LmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/var/www/html/mon-projet-angular/src/app/appareil-view/appareil-view.component.ts","/var/www/html/mon-projet-angular/src/app/appareil-view/appareil-view.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AppareilService } from '../services/appareil.service';\nimport { Subscription } from 'rxjs';\n@Component({\n  selector: 'app-appareil-view',\n  templateUrl: './appareil-view.component.html',\n  styleUrls: ['./appareil-view.component.scss']\n})\nexport class AppareilViewComponent implements OnInit {\n\n  isAuth = false;\n  lastUpdate: Promise<Date> = new Promise(\n    (resolve, reject) => {\n      const date = new Date();\n      setTimeout(\n          () => {\n            resolve(date);\n          }, 2000\n        );\n    }\n  );\n  appareils: any[];\n  appareilSubscription: Subscription;\n  constructor(private appareilService: AppareilService) {\n    setTimeout(\n        () => {\n          this.isAuth = true;\n        }, 4000\n      );\n  }\n  ngOnInit() {\n    this.appareilSubscription = this.appareilService.appareilSubject.subscribe(\n        (appareils: any[]) => {\n          this.appareils = appareils;\n        }\n      );\n    this.appareilService.emitAppareilSubject;\n  }\n  onAllumer() {\n    this.appareilService.switchOnAll();\n  }\n  onEteindre() {\n    this.appareilService.switchOffAll();\n  }\n  onSave() {\n    this.appareilService.saveAppareilToServer();\n  }\n  onFetch() {\n    this.appareilService.getAppareilFromServer(); \n  }\n\n}\n","<div class=\"col-xs-12\">\n  <h2>Mes appareils</h2>\n  <p>Mis à jour : {{ lastUpdate | async | date: 'yMMMMEEEEd' | uppercase }}</p>\n  <ul class=\"list-group\">\n    <app-appareil *ngFor=\"let appareil of appareils; let i = index\"\n          [indexOfAppareil]=\"i\"\n          [appareilName]=\"appareil.name\"\n          [appareilStatus]=\"appareil.status\"\n          [id]=\"appareil.id\"\n    ></app-appareil>\n  </ul>\n  <button \n      class=\"btn btn-success\"\n      (click)=\"onAllumer()\">Tout allumer</button>\n  <button \n      class=\"btn btn-danger\" \n      (click)=\"onEteindre()\">Tout éteindre</button>\n  <button \n      class=\"btn btn-primary\" \n      (click)=\"onSave()\">Enregistrer</button>\n  <button \n      class=\"btn btn-primary\" \n      (click)=\"onFetch()\">Charger</button>\n\n</div>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}